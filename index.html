<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"mtmatt.page","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"manual","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="mtmatt.Page">
<meta property="og:url" content="http://mtmatt.page/index.html">
<meta property="og:site_name" content="mtmatt.Page">
<meta property="og:locale" content="zh_TW">
<meta property="article:author" content="mtmatt">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://mtmatt.page/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-TW'
  };
</script>

  <title>mtmatt.Page</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2CNES58QHS"></script>
    <script data-pjax>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-2CNES58QHS');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">mtmatt.Page</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">commonPage</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>關於</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>標籤</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分類</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>歸檔</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>網站地圖</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜尋..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="http://mtmatt.page/misc/involution/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="mtmatt">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mtmatt.Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/misc/involution/" class="post-title-link" itemprop="url">Involution Calculator</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2025-02-04 00:00:00" itemprop="dateCreated datePublished" datetime="2025-02-04T00:00:00+08:00">2025-02-04</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/misc/" itemprop="url" rel="index"><span itemprop="name">misc</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">文章字數：</span>
              <span>7.9k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
              <span>14 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Involution is a common transformation in mathematical contests. However, it can be difficult to visualize. Unlike the transformations typically taught in high school, an involution can produce an image that looks completely different from the original—without any apparent similarity.</p>
<p>To some extent, you can imagine involution as follows: First, place a ball at the center of the transformation. Then, project the original image onto the north pole of the ball. Next, position a new plane parallel to the original image at the north pole and project the image back through the south pole of the ball.</p>
<p>In the following program, I use the spng library to decode a PNG image, scale it up, apply the involution transformation, and then encode it back into a PNG file.</p>
<h2 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdint.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;inttypes.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;spng.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ERR_EXIT(s) do&#123; perror(s); exit(-1); &#125; while(0);</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> get_pixel(image, row, col) (image + (row * ihdr.width + col) * bytes_per_pixel)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> get_new_pixel(image, row, col, scale) (image + (row * ihdr.width * scale + col) * bytes_per_pixel)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> get_used(used, row, col, scale) (used + (row * ihdr.width * scale + col))</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> &#123;</span><br><span class="line">  FILE *picture_file;</span><br><span class="line">  spng_ctx *ctx = <span class="literal">NULL</span>;</span><br><span class="line">  <span class="type">unsigned</span> <span class="type">char</span> *image = <span class="literal">NULL</span>;</span><br><span class="line">  <span class="keyword">if</span> (argc &lt; <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;no input file\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Usage: involution [picture name] [inv certer row] [inv center col] [inv prod]\n&quot;</span>);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (argc &lt; <span class="number">4</span>) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;miss involution center\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Usage: involution [picture name] [inv certer row] [inv center col] [inv prod]\n&quot;</span>);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (argc &lt; <span class="number">5</span>) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;miss involution product\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Usage: involution [picture name] [inv certer row] [inv center col] [inv prod]\n&quot;</span>);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> inv_center_row = atoi(argv[<span class="number">2</span>]);</span><br><span class="line">  <span class="type">int</span> inv_center_col = atoi(argv[<span class="number">3</span>]);</span><br><span class="line">  <span class="type">double</span> inv_prod = atof(argv[<span class="number">4</span>]);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Involution center: (%d, %d)\n&quot;</span>, inv_center_row, inv_center_col);</span><br><span class="line"></span><br><span class="line">  picture_file = fopen(argv[<span class="number">1</span>], <span class="string">&quot;rb&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (picture_file == <span class="literal">NULL</span>) &#123;</span><br><span class="line">    ERR_EXIT(<span class="string">&quot;cannot open the file&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  ctx = spng_ctx_new(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">if</span> (ctx == <span class="literal">NULL</span>) &#123;</span><br><span class="line">    ERR_EXIT(<span class="string">&quot;ctx new failed&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  spng_set_crc_action(ctx, SPNG_CRC_USE, SPNG_CRC_USE);</span><br><span class="line">  <span class="type">const</span> <span class="type">size_t</span> limit = <span class="number">1024</span> * <span class="number">1024</span> * <span class="number">1024</span>;</span><br><span class="line">  spng_set_chunk_limits(ctx, limit, limit);</span><br><span class="line">  spng_set_png_file(ctx, picture_file);</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">spng_ihdr</span> <span class="title">ihdr</span>;</span></span><br><span class="line">  <span class="type">int</span> ret = spng_get_ihdr(ctx, &amp;ihdr);</span><br><span class="line">  <span class="keyword">if</span> (ret != <span class="number">0</span>) &#123;</span><br><span class="line">    ERR_EXIT(<span class="string">&quot;get ihdr failed&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;width: %u\n&quot;</span></span><br><span class="line">    <span class="string">&quot;height: %u\n&quot;</span></span><br><span class="line">    <span class="string">&quot;bit depth: %u\n&quot;</span></span><br><span class="line">    <span class="string">&quot;color type: %u\n&quot;</span>,</span><br><span class="line">    ihdr.width, ihdr.height, ihdr.bit_depth, ihdr.color_type);</span><br><span class="line"></span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">spng_plte</span> <span class="title">plte</span> =</span> &#123;<span class="number">0</span>&#125;;</span><br><span class="line">  ret = spng_get_plte(ctx, &amp;plte);</span><br><span class="line">  <span class="keyword">if</span> (ret != <span class="number">0</span> &amp;&amp; ret != SPNG_ECHUNKAVAIL) &#123;</span><br><span class="line">    <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;%s\n&quot;</span>, spng_strerror(ret));</span><br><span class="line">    ERR_EXIT(<span class="string">&quot;get plte error&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (ret == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;plaette entries: %u\n&quot;</span>, plte.n_entries);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="type">size_t</span> image_size, image_width;</span><br><span class="line">  <span class="type">int</span> fmt = SPNG_FMT_PNG;</span><br><span class="line">  <span class="keyword">if</span> (ihdr.color_type == SPNG_COLOR_TYPE_INDEXED) fmt = SPNG_FMT_RGB8;</span><br><span class="line">  ret = spng_decoded_image_size(ctx, fmt, &amp;image_size);</span><br><span class="line">  <span class="keyword">if</span> (ret != <span class="number">0</span>) &#123;</span><br><span class="line">    ERR_EXIT(<span class="string">&quot;image size decode error&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  image = <span class="built_in">malloc</span>(image_size);</span><br><span class="line">  <span class="keyword">if</span> (image == <span class="literal">NULL</span>) &#123;</span><br><span class="line">    ERR_EXIT(<span class="string">&quot;memory allocation failed&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  image_size = <span class="number">4</span> * ihdr.width * ihdr.height;</span><br><span class="line">  ret = spng_decode_image(ctx, image, image_size, SPNG_FMT_RGBA8, <span class="number">0</span>);</span><br><span class="line">  <span class="keyword">if</span> (ret != <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;%s\n&quot;</span>, spng_strerror(ret));</span><br><span class="line">    ERR_EXIT(<span class="string">&quot;image decode error&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> scale = <span class="number">20</span>;</span><br><span class="line">  <span class="keyword">if</span> (inv_center_row &lt; <span class="number">0</span> || inv_center_col &lt; <span class="number">0</span> ||</span><br><span class="line">      inv_center_col &gt;= ihdr.width * scale || inv_center_row &gt;= ihdr.height * scale) &#123;</span><br><span class="line">    ERR_EXIT(<span class="string">&quot;invalid inv center&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> bytes_per_pixel = <span class="number">4</span>;  <span class="comment">// RGBA</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">char</span> *new_image = <span class="built_in">malloc</span>(image_size * scale * scale);</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">spng_ihdr</span> <span class="title">new_ihdr</span> =</span> ihdr;</span><br><span class="line">  new_ihdr.width *= scale;</span><br><span class="line">  new_ihdr.height *= scale;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; ihdr.height; ++i) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; ihdr.width; ++j) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; scale; ++k) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> l = <span class="number">0</span>; l &lt; scale; ++l) &#123;</span><br><span class="line">          <span class="type">unsigned</span> <span class="type">char</span> *new_pixel = (new_image +</span><br><span class="line">            ((i * scale + k) * (ihdr.width * scale) + j * scale + l) *</span><br><span class="line">              bytes_per_pixel);</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> m = <span class="number">0</span>; m &lt; bytes_per_pixel; ++m) &#123;</span><br><span class="line">            new_pixel[m] = get_pixel(image, i, j)[m];</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="type">bool</span> *used = <span class="built_in">calloc</span>(image_size * scale * scale, <span class="keyword">sizeof</span>(<span class="type">unsigned</span> <span class="type">char</span>));</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; ihdr.height * scale; ++i) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; ihdr.width * scale; ++j) &#123;</span><br><span class="line">      <span class="keyword">if</span> (i == inv_center_row &amp;&amp; j == inv_center_col) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="type">unsigned</span> <span class="type">char</span> *pixel = get_new_pixel(new_image, i, j, scale);</span><br><span class="line">      <span class="type">int</span> dr = inv_center_row - i, dc = inv_center_col - j;</span><br><span class="line">      <span class="type">double</span> delta_len = <span class="built_in">sqrt</span>(dr * dr + dc * dc);</span><br><span class="line">      <span class="type">double</span> new_len = inv_prod / delta_len;</span><br><span class="line">      dr *= new_len / delta_len;</span><br><span class="line">      dc *= new_len / delta_len;</span><br><span class="line">      <span class="type">int</span> newr = inv_center_row + dr, newc = inv_center_col + dc;</span><br><span class="line">      <span class="keyword">if</span> (newr &lt; <span class="number">0</span> || newr &gt;= ihdr.height * scale || newc &lt; <span class="number">0</span> || newc &gt;= ihdr.width * scale) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (!*get_used(used, i, j, scale) &amp;&amp; !*get_used(used, newr, newc, scale)) &#123;</span><br><span class="line">        *get_used(used, i, j, scale) = <span class="literal">true</span>;</span><br><span class="line">        *get_used(used, newr, newc, scale) = <span class="literal">true</span>;</span><br><span class="line">        <span class="type">unsigned</span> <span class="type">char</span> *new_pixel = get_new_pixel(new_image, newr, newc, scale);</span><br><span class="line">        <span class="type">unsigned</span> <span class="type">char</span> tp[<span class="number">4</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; bytes_per_pixel; ++k) &#123;</span><br><span class="line">          tp[k] = pixel[k];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; bytes_per_pixel; ++k) &#123;</span><br><span class="line">          pixel[k] = new_pixel[k];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; bytes_per_pixel; ++k) &#123;</span><br><span class="line">          new_pixel[k] = tp[k];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!*get_used(used, i, j, scale)) &#123;</span><br><span class="line">        pixel[<span class="number">0</span>] = pixel[<span class="number">1</span>] = pixel[<span class="number">2</span>] = pixel[<span class="number">3</span>] = <span class="number">255</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  FILE *out_file = fopen(<span class="string">&quot;output.png&quot;</span>, <span class="string">&quot;wb&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (out_file == <span class="literal">NULL</span>) &#123;</span><br><span class="line">    ERR_EXIT(<span class="string">&quot;Failed to create output file\n&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Initialize encoder context</span></span><br><span class="line">  spng_ctx *out_ctx = spng_ctx_new(SPNG_CTX_ENCODER);</span><br><span class="line">  <span class="keyword">if</span> (out_ctx == <span class="literal">NULL</span>) &#123;</span><br><span class="line">    <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;Failed to create encoder context\n&quot;</span>);</span><br><span class="line">    fclose(out_file);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  spng_set_png_file(out_ctx, out_file);</span><br><span class="line">  new_ihdr.bit_depth = <span class="number">8</span>;</span><br><span class="line">  new_ihdr.color_type = SPNG_COLOR_TYPE_TRUECOLOR_ALPHA;</span><br><span class="line">  new_ihdr.compression_method = <span class="number">0</span>;</span><br><span class="line">  new_ihdr.filter_method = <span class="number">0</span>;</span><br><span class="line">  new_ihdr.interlace_method = <span class="number">0</span>;</span><br><span class="line">  ret = spng_set_ihdr(out_ctx, &amp;new_ihdr);</span><br><span class="line">  <span class="keyword">if</span> (ret != <span class="number">0</span>) &#123;</span><br><span class="line">    ERR_EXIT(<span class="string">&quot;ihdr set failed&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  ret = spng_encode_image(out_ctx, new_image, image_size * scale * scale,</span><br><span class="line">    SPNG_FMT_PNG, <span class="number">0</span>);</span><br><span class="line">  <span class="keyword">if</span> (ret != <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">&quot;spng_encode_image error: %s\n&quot;</span>, spng_strerror(ret));</span><br><span class="line">    ERR_EXIT(<span class="string">&quot;encode error&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  spng_ctx_free(ctx);</span><br><span class="line">  spng_ctx_free(out_ctx);</span><br><span class="line">  fclose(out_file);</span><br><span class="line">  <span class="built_in">free</span>(image);</span><br><span class="line">  <span class="built_in">free</span>(new_image);</span><br><span class="line">  <span class="built_in">free</span>(used);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/misc/involution/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="http://mtmatt.page/dataStructure/binary-heap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="mtmatt">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mtmatt.Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/dataStructure/binary-heap/" class="post-title-link" itemprop="url">Binary Heap</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2024-11-15 08:00:00" itemprop="dateCreated datePublished" datetime="2024-11-15T08:00:00+08:00">2024-11-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dataStructure/" itemprop="url" rel="index"><span itemprop="name">dataStructure</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">文章字數：</span>
              <span>3.9k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
              <span>7 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>堆積是一種特殊的樹狀資料結構，滿足以下性質，以下用最大堆積為例</p>
<ol>
<li>Parent Node 的值總是大於等於 Child Nodes 的值。</li>
<li>Binary Heap 為一個完全二元樹，即除了最底層，其他層都是滿的，且最底層的節點都靠左對齊。</li>
</ol>
<p>至於什麼是二元樹？二元樹是一種樹狀結構，其每個節點最多只能有兩個 Children。</p>
<h2 id="Heap-operations"><a href="#Heap-operations" class="headerlink" title="Heap operations"></a>Heap operations</h2><p>堆積有以下幾種操作</p>
<ol>
<li>Build Heap: 將一個陣列轉換成堆積</li>
<li>Insert: 插入一個新元素到堆積中</li>
<li>Extract Max: 移除並回傳堆積中最大的元素</li>
</ol>
<h2 id="Build-Heap-Heapify"><a href="#Build-Heap-Heapify" class="headerlink" title="Build Heap (Heapify)"></a>Build Heap (Heapify)</h2><p>將一個陣列轉換成堆積的方法稱為 Heapify。</p>
<p>常見的方法是從最後一個 Parent Node 開始，將每個 Parent Node 與其 Children 比較，若 Parent Node 小於 Children，則交換兩者的值，並繼續往下比較，直到該 Parent Node 大於等於所有他的新 Children。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/dataStructure/binary-heap/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="http://mtmatt.page/dataStructure/application-of-link-lists/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="mtmatt">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mtmatt.Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/dataStructure/application-of-link-lists/" class="post-title-link" itemprop="url">Application of Link Lists</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2024-10-25 08:00:00" itemprop="dateCreated datePublished" datetime="2024-10-25T08:00:00+08:00">2024-10-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dataStructure/" itemprop="url" rel="index"><span itemprop="name">dataStructure</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">文章字數：</span>
              <span>1.2k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
              <span>2 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>這週我們要來學習如何使用串列來解決一些問題。</p>
<h2 id="Sliding-Window"><a href="#Sliding-Window" class="headerlink" title="Sliding Window"></a>Sliding Window</h2><h3 id="Concept"><a href="#Concept" class="headerlink" title="Concept"></a>Concept</h3><p>有時候我們會遇到這樣的問題，問題希望你找出所有長度為 \(k\) 的連續區間的最大最小值。<br>這時候，我們可以使用滑動窗口的技巧完成這樣的問題。</p>
<p>滑動窗口主要關注元素的進出，以最大值為例，我們可以維護一個雙向佇列 (deque)。<br>這個 deque 裡面存放由大到小的元素位址。</p>
<p>以下表為例，假設 \(k&#x3D;4\)。</p>
<table>
<thead>
<tr>
<th>陣列位址</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
</tr>
</thead>
<tbody><tr>
<td>陣列元素</td>
<td>5</td>
<td>2</td>
<td>4</td>
<td>-3</td>
<td>-1</td>
<td>9</td>
</tr>
</tbody></table>
<p>則區間 \(1-4\) 的最大值為 \(5\)。<br>區間 \(2-5\) 則為 \(4\)，依此類推。</p>
<p>我們可以藉由對 doubly link list 的操作，處理每一個區間的最大值。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/dataStructure/application-of-link-lists/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="http://mtmatt.page/dataStructure/link-lists/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="mtmatt">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mtmatt.Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/dataStructure/link-lists/" class="post-title-link" itemprop="url">Link Lists</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2024-10-12 08:00:00" itemprop="dateCreated datePublished" datetime="2024-10-12T08:00:00+08:00">2024-10-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dataStructure/" itemprop="url" rel="index"><span itemprop="name">dataStructure</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">文章字數：</span>
              <span>6.4k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
              <span>12 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>雖然動態陣列相當好用，某些時候也可以代替鏈結串列，然而，我們用動態陣列還是有許多無法完成的工作，例如我們要刪除中間的某一個節點，或是你的動態陣列要存的單一節點資料非常多，導致每次開兩倍依舊不是一個好的選項時。除此之外，鏈結串列還可以把兩個不同的串列用非常快的速度連接起來 (\(O(1)\)) ，也因此即使過了40年以上，他依舊是我們資料結構與演算法中必修的一部分。</p>
<p>鏈結串列主要分為兩種，一個是單向的，另一個則是雙向的。兩者各有優缺。</p>
<h2 id="Pointer"><a href="#Pointer" class="headerlink" title="Pointer"></a>Pointer</h2><p>在談到鏈結串列之前，我們先來談談指標。指標是一個變數，他存的是一個記憶體位置。在C++中，我們可以用<code>*</code>來宣告一個指標，例如</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> *p = &amp;a;</span><br></pre></td></tr></table></figure>

<p>這樣我們就宣告了一個指標<code>p</code>，他指向了變數<code>a</code>。如果我們想要取得<code>a</code>的值，我們可以透過<code>*p</code>來取得。如果我們想要改變<code>a</code>的值，我們可以透過<code>*p</code>來改變。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*p = <span class="number">20</span>;</span><br><span class="line">std::cout &lt;&lt; a &lt;&lt; <span class="string">&quot;\n&quot;</span>; <span class="comment">// 20</span></span><br></pre></td></tr></table></figure>

<p>對於一個結構，我們也可以宣告一個指標，例如</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    Node *next;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Node *node = <span class="keyword">new</span> Node;</span><br><span class="line">node-&gt;data = <span class="number">10</span>;</span><br><span class="line">node-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">std::cout &lt;&lt; node-&gt;data &lt;&lt; <span class="string">&quot;\n&quot;</span>; <span class="comment">// 20</span></span><br><span class="line"><span class="keyword">delete</span> node;</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/dataStructure/link-lists/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="http://mtmatt.page/dataStructure/stack-and-queue-part-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="mtmatt">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mtmatt.Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/dataStructure/stack-and-queue-part-2/" class="post-title-link" itemprop="url">Stack and Queue (Part 2)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2024-10-06 08:00:00" itemprop="dateCreated datePublished" datetime="2024-10-06T08:00:00+08:00">2024-10-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dataStructure/" itemprop="url" rel="index"><span itemprop="name">dataStructure</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">文章字數：</span>
              <span>5k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
              <span>9 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>有了動態陣列之後，堆疊與佇列就可以被實作出來了。堆疊的基本概念是先進去的後出來，就像疊好的盤子。佇列則相反，先進去的會先出來，就像一群在排隊的人。</p>
<h2 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h2><p>接著我們來實作佇列，你會發現，這次我們要利用resize。如果佇列沒有內容物而要求輸出<code>front()</code>，請輸出-1。如果佇列內沒有任何元素，請跳過指令。因為想要有效的利用空間，所以我們會使用環形陣列的方式儲存資料。</p>
<h3 id="Template-for-your-program"><a href="#Template-for-your-program" class="headerlink" title="Template for your program"></a>Template for your program</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// push back, pop front, and get front</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="comment">// [l, r)</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Queue</span> &#123;</span><br><span class="line">    <span class="built_in">Queue</span>(): <span class="built_in">sz</span>(<span class="number">0</span>), <span class="built_in">l</span>(<span class="number">0</span>), <span class="built_in">r</span>(<span class="number">0</span>), <span class="built_in">capacity</span>(<span class="number">0</span>) &#123;&#125;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; values;</span><br><span class="line">    <span class="type">int</span> l, r, sz, capacity;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">set_capacity</span><span class="params">(<span class="type">int</span> new_capacity)</span></span>;</span><br><span class="line">    <span class="function">Queue&amp; <span class="title">push</span><span class="params">(<span class="type">int</span> val)</span></span>;</span><br><span class="line">    <span class="function">Queue&amp; <span class="title">pop</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">front</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> sz; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Queue::set_capacity</span><span class="params">(<span class="type">int</span> new_capacity)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Your code below</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Your code above</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Queue&amp; <span class="title">Queue::push</span><span class="params">(<span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Your code below</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Your code above</span></span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Queue&amp; <span class="title">Queue::pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Your code below</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Your code above</span></span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Queue::front</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Your code below</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Your code above</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> PUSH&#123;<span class="number">1</span>&#125;;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> POP&#123;<span class="number">2</span>&#125;;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> FRONT&#123;<span class="number">3</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">    std::ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);std::cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> operation_num;</span><br><span class="line">    std::cin &gt;&gt; operation_num;</span><br><span class="line"></span><br><span class="line">    Queue st;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i&#123;<span class="number">0</span>&#125;; i &lt; operation_num; ++i) &#123;</span><br><span class="line">        <span class="type">int</span> op, value;</span><br><span class="line">        std::cin &gt;&gt; op;</span><br><span class="line">        <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">        <span class="keyword">case</span> PUSH:</span><br><span class="line">            std::cin &gt;&gt; value;</span><br><span class="line">            st.<span class="built_in">push</span>(value);</span><br><span class="line">            std::cout &lt;&lt; st.<span class="built_in">size</span>() &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> POP:</span><br><span class="line">            st.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> FRONT:</span><br><span class="line">            std::cout &lt;&lt; st.<span class="built_in">front</span>() &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Usage-of-Queue"><a href="#Usage-of-Queue" class="headerlink" title="Usage of Queue"></a>Usage of Queue</h2><h3 id="BFS-CSES"><a href="#BFS-CSES" class="headerlink" title="BFS(CSES)"></a>BFS(<a target="_blank" rel="noopener" href="https://cses.fi/problemset/task/1193/">CSES</a>)</h3><p>你有一個迷宮的地圖，任務是找到從起點到終點的路徑。你可以向左、向右、向上、或向下移動。</p>
<h4 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h4>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/dataStructure/stack-and-queue-part-2/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="http://mtmatt.page/dataStructure/stack-and-queue-part-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="mtmatt">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mtmatt.Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/dataStructure/stack-and-queue-part-1/" class="post-title-link" itemprop="url">Stack and Queue (Part 1)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2024-09-29 08:00:00" itemprop="dateCreated datePublished" datetime="2024-09-29T08:00:00+08:00">2024-09-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dataStructure/" itemprop="url" rel="index"><span itemprop="name">dataStructure</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">文章字數：</span>
              <span>7.4k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
              <span>14 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>有了動態陣列之後，堆疊與佇列就可以被實作出來了。堆疊的基本概念是先進去的後出來，就像疊好的盤子。佇列則相反，先進去的會先出來，就像一群在排隊的人。</p>
<h2 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h2><p>首先我們先來實作堆疊，你會發現，只要利用上次的push_back以及pop_back就可以很方便的做出堆疊的結構。</p>
<h3 id="Template-for-your-program"><a href="#Template-for-your-program" class="headerlink" title="Template for your program"></a>Template for your program</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Stack</span> &#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; values;</span><br><span class="line">    <span class="function">Stack&amp; <span class="title">push</span><span class="params">(<span class="type">int</span> value)</span></span>;</span><br><span class="line">    <span class="function">Stack&amp; <span class="title">pop</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">top</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Stack&amp; <span class="title">Stack::push</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// your code below</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// your code above</span></span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Stack&amp; <span class="title">Stack::pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// your code below</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// your code above</span></span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Stack::top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// your code below</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// your code above</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Stack::size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> values.<span class="built_in">size</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> PUSH&#123;<span class="number">1</span>&#125;;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> POP&#123;<span class="number">2</span>&#125;;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> TOP&#123;<span class="number">3</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> operation_num;</span><br><span class="line">    std::cin &gt;&gt; operation_num;</span><br><span class="line"></span><br><span class="line">    Stack st;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i&#123;<span class="number">0</span>&#125;; i &lt; operation_num; ++i) &#123;</span><br><span class="line">        <span class="type">int</span> op, value;</span><br><span class="line">        std::cin &gt;&gt; op;</span><br><span class="line">        <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">        <span class="keyword">case</span> PUSH:</span><br><span class="line">            std::cin &gt;&gt; value;</span><br><span class="line">            st.<span class="built_in">push</span>(value);</span><br><span class="line">            std::cout &lt;&lt; st.<span class="built_in">size</span>() &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> POP:</span><br><span class="line">            st.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> TOP:</span><br><span class="line">            std::cout &lt;&lt; st.<span class="built_in">top</span>() &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Usage-of-Stack"><a href="#Usage-of-Stack" class="headerlink" title="Usage of Stack"></a>Usage of Stack</h2><h3 id="Evaluation-of-Arithmetic-expression"><a href="#Evaluation-of-Arithmetic-expression" class="headerlink" title="Evaluation of Arithmetic expression"></a>Evaluation of Arithmetic expression</h3><p><a target="_blank" rel="noopener" href="https://zerojudge.tw/ShowProblem?problemid=a017">https://zerojudge.tw/ShowProblem?problemid=a017</a></p>
<p>My answer written in C.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/dataStructure/stack-and-queue-part-1/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="http://mtmatt.page/dataStructure/dynamic-array/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="mtmatt">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mtmatt.Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/dataStructure/dynamic-array/" class="post-title-link" itemprop="url">Dynamic Array</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2024-09-28 08:00:00" itemprop="dateCreated datePublished" datetime="2024-09-28T08:00:00+08:00">2024-09-28</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/dataStructure/" itemprop="url" rel="index"><span itemprop="name">dataStructure</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">文章字數：</span>
              <span>1.5k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
              <span>3 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>陣列的大小往往都是固定的，如果你需要一個可以增減的陣列，你可能會想到<code>std::vector</code>。然而，既然官方的函式庫裡面有這樣的東西，就表示我們可以做一個出來。</p>
<h2 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h2><p>核心概念：倍增法</p>
<p>當空間不足時，新增一倍的空間。也可以當作是空間\(\times 2\)。</p>
<h3 id="P1-Vector"><a href="#P1-Vector" class="headerlink" title="P1 Vector"></a>P1 Vector</h3><h4 id="Vector-h"><a href="#Vector-h" class="headerlink" title="Vector.h"></a>Vector.h</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Vector</span> &#123;</span><br><span class="line">    <span class="built_in">Vector</span>(<span class="type">int</span> _sz = <span class="number">0</span>) : <span class="built_in">sz</span>(_sz), <span class="built_in">capacity</span>(_sz) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sz != <span class="number">0</span>) value = <span class="keyword">new</span> <span class="type">int</span>[sz];</span><br><span class="line">        <span class="keyword">else</span> value = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ~<span class="built_in">Vector</span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> (value != <span class="literal">nullptr</span>) <span class="keyword">delete</span> [] value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Vector&amp; <span class="title">resize</span><span class="params">(<span class="type">int</span> new_size)</span></span>;</span><br><span class="line">    <span class="function">Vector&amp; <span class="title">push_back</span><span class="params">(<span class="type">int</span> val)</span></span>;</span><br><span class="line">    <span class="function">Vector&amp; <span class="title">pop_back</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="type">int</span>&amp; <span class="keyword">operator</span>[](<span class="type">int</span> index) &#123; <span class="keyword">return</span> value[index];&#125;</span><br><span class="line">    <span class="type">int</span> *value;</span><br><span class="line">    <span class="type">int</span> sz, capacity;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>請完成<code>Vector.cpp</code>的實作。</p>
<h4 id="編譯"><a href="#編譯" class="headerlink" title="編譯"></a>編譯</h4>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/dataStructure/dynamic-array/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="http://mtmatt.page/misc/offline-judge-system-operating-update/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="mtmatt">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mtmatt.Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/misc/offline-judge-system-operating-update/" class="post-title-link" itemprop="url">(Update) Offline Judge 離線程式評測系統</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2023-08-11 08:00:00" itemprop="dateCreated datePublished" datetime="2023-08-11T08:00:00+08:00">2023-08-11</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/misc/" itemprop="url" rel="index"><span itemprop="name">misc</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">文章字數：</span>
              <span>12k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
              <span>21 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>當初我同學有在架設我們學校的線上評測系統，而一開始我們的系統非常不穩定，因此，他想到可以寫離線的程式答題系統緩解我們上課的需求。而我看到這個系統，我覺得這是一個不錯的想法，並依此加以改良，新增 TLE 判定和超時時會強制停止，並且可以跨平台使用。</p>
<h2 id="使用-解題者"><a href="#使用-解題者" class="headerlink" title="使用(解題者)"></a>使用(解題者)</h2><p>一題會是一個資料夾，裡面會有隱藏檔案和非隱藏檔案。</p>
<table>
<thead>
<tr>
<th>檔案名稱</th>
<th>大致內容</th>
<th>是否隱藏</th>
</tr>
</thead>
<tbody><tr>
<td>AC</td>
<td>ascii art 的 AC 字樣</td>
<td>True</td>
</tr>
<tr>
<td>WA</td>
<td>ascii art 的 WA 字樣</td>
<td>True</td>
</tr>
<tr>
<td>TLE</td>
<td>ascii art 的 TLE 字樣</td>
<td>True</td>
</tr>
<tr>
<td>main.h</td>
<td>主要程式</td>
<td>不用附給使用者</td>
</tr>
<tr>
<td>Run.cpp</td>
<td>執行程式</td>
<td>不用附給使用者</td>
</tr>
<tr>
<td>Run.exe</td>
<td>執行程式</td>
<td>False</td>
</tr>
<tr>
<td>Solve.cpp</td>
<td>使用者的程式</td>
<td>False</td>
</tr>
<tr>
<td>Description</td>
<td>題目敘述</td>
<td>False</td>
</tr>
<tr>
<td>README.md</td>
<td>說明使用方法(如下)</td>
<td>False</td>
</tr>
</tbody></table>
<h3 id="README-txt-內文"><a href="#README-txt-內文" class="headerlink" title="README.txt 內文"></a>README.txt 內文</h3><h4 id="以下說明檔案功能及用法"><a href="#以下說明檔案功能及用法" class="headerlink" title="以下說明檔案功能及用法"></a>以下說明檔案功能及用法</h4><ol>
<li>編譯並執行 Run.cpp 可以獲得評測結果</li>
<li>程式碼請寫在 Solve.cpp 裡面</li>
<li>題目敘述在 Description 裡面，一般應該是 .txt，.md 或 .pdf</li>
<li>標準輸入輸出用 cin 和 cout 就可以了</li>
</ol>
<h4 id="以下說明答題結果"><a href="#以下說明答題結果" class="headerlink" title="以下說明答題結果"></a>以下說明答題結果</h4><ol>
<li>AC 作答正確</li>
<li>WA 輸出結果錯誤，或不符合題目要求</li>
<li>TLE 執行時間過長</li>
<li>程式跳掉 一般來說都是 RE(runtime error)</li>
</ol>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/misc/offline-judge-system-operating-update/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="http://mtmatt.page/apcs/apcspracticaltest/my-apcs-handout/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="mtmatt">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mtmatt.Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/apcs/apcspracticaltest/my-apcs-handout/" class="post-title-link" itemprop="url">APCS 講義</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2023-07-10 08:00:00" itemprop="dateCreated datePublished" datetime="2023-07-10T08:00:00+08:00">2023-07-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/apcs/" itemprop="url" rel="index"><span itemprop="name">apcs</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/apcs/apcspracticaltest/" itemprop="url" rel="index"><span itemprop="name">apcspracticaltest</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">文章字數：</span>
              <span>24k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
              <span>43 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="源起-說明"><a href="#源起-說明" class="headerlink" title="源起 &amp; 說明"></a>源起 &amp; 說明</h1><p>起心動念編纂這本「講義」的時候，正值我準備 APCS 考試期間，當時也正在就讀高中，考量到時間上的不足，我邀請 3 個人一起參與，所以，作者總共有 4 個人，而本篇貼文所摘錄的是我所創作的部分。</p>
<h1 id="作者序"><a href="#作者序" class="headerlink" title="作者序"></a>作者序</h1><p>演算法與資料結構一直以來都是程式設計中最重要的部分。然而許多的書籍在介紹時，出於篇幅考量，字句精簡，以致晦澀難懂。本書旨在對於演算法及資料結構進行詳細的介紹，避免初學者遇到與我相同的困境，因而花費許多時間。雖說是競賽入門，然我仍有計畫放一些進階的資料結構與演算法。</p>
<p>後續我盡可能會將所有題目放在 ZeroJudge 的課程裡，方便大家測試自己的程式碼，也方便除錯。<br>(參加課程方式。從使用者選單-&gt;「參加課程」-&gt;課程代碼：a7HcCs)</p>
<p>這本書作為我程式設計學習的其中一個指標，也是我自主學習計畫的內容。希望能幫助到一些在資料結構與演算法的學習與運用上不知如何進展的人。</p>
<p>作者：李尚哲、余光磊、戴偉璿與李卓岳。</p>
<p>本教材歡迎分享使用，僅須註明出處，惟不得作營利用途。</p>
<h1 id="樹狀樹組-BIT"><a href="#樹狀樹組-BIT" class="headerlink" title="樹狀樹組-BIT"></a>樹狀樹組-BIT</h1><blockquote>
<p><strong>快速求取區間和的助手</strong></p>
</blockquote>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/apcs/apcspracticaltest/my-apcs-handout/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="http://mtmatt.page/ojques/codeforces-round-826-pd/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="mtmatt">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mtmatt.Page">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/ojques/codeforces-round-826-pd/" class="post-title-link" itemprop="url">Codeforces Round 826 pD</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2023-04-11 08:00:00" itemprop="dateCreated datePublished" datetime="2023-04-11T08:00:00+08:00">2023-04-11</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ojques/" itemprop="url" rel="index"><span itemprop="name">ojques</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">文章字數：</span>
              <span>2.8k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
              <span>5 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async></script>

<h3 id="題目連結"><a href="#題目連結" class="headerlink" title="題目連結"></a>題目連結</h3><p><a target="_blank" rel="noopener" href="https://codeforces.com/problemset/problem/1741/D">https://codeforces.com/problemset/problem/1741/D</a></p>
<h3 id="題目概要"><a href="#題目概要" class="headerlink" title="題目概要"></a>題目概要</h3><p>給你一個 \(1; 2 …m\) 但沒有排序的數列，其中 \(m&#x3D;2^n, n \in N\)。 這些數字要被放在一個完全二元樹的樹葉(葉節點)中。 定義此完全二元樹是 “\(beautiful\)” 的若且唯若葉節點的數值剛好由左而右遞增。 我們可以做的操作是對任一節點，將他的左右子樹互換。 請問最少幾次操作可以讓樹變成 “\(beautiful\)” 的，如果做不到輸出 -1。</p>
<p><img src="https://live.staticflickr.com/65535/52808706187_cd9f0fda95.jpg" alt="CF_1741D_1"></p>
<h3 id="提示-1"><a href="#提示-1" class="headerlink" title="提示 1"></a>提示 1</h3><p>判斷做不做得到與怎麼做可以分開。</p>
<h3 id="提示-2"><a href="#提示-2" class="headerlink" title="提示 2"></a>提示 2</h3><p>怎麼做可以快速分辨是否成功。想想線段樹。</p>
<h3 id="想法"><a href="#想法" class="headerlink" title="想法"></a>想法</h3>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/ojques/codeforces-round-826-pd/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一頁"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">mtmatt</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">96</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">mtmatt</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">總字數：</span>
    <span title="總字數">197k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">所需總閱讀時間 &asymp;</span>
    <span title="所需總閱讀時間">5:59</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 強力驅動
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

    </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>
